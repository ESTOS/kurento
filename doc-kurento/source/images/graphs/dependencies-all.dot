digraph dependencies_all {
  bgcolor = "transparent";
  fontname = "Bitstream Vera Sans";
  fontsize = 8;
  size = "12,8";

  rankdir = "RL";

  // Forks and external libraries.
  {
    rank = "same";
    "libsrtp";
    "openh264";
    "gst-plugins-good";
    "libnice";
  }
  "openh264-gst-plugin" -> {"openh264"};

  // Main components.
  {
    rank = "same";
    "kurento-module-creator";
    "kurento-cmake-utils";
    "kurento-jsonrpc";
  }
  "kurento-jsonrpc" -> {"kurento-cmake-utils"};
  "kurento-module-core" -> {"gst-plugins-good" "kurento-module-creator" "kurento-cmake-utils" "kurento-jsonrpc"};
  "kurento-module-elements" -> {"libnice" "openh264" "openh264-gst-plugin" "kurento-module-core"};
  "kurento-module-filters" -> "kurento-module-elements";
  "kurento-media-server" -> {"libsrtp" "kurento-module-core" "kurento-module-elements" "kurento-module-filters"};

  // Example plugins.
  "kurento-module-chroma" -> {"kurento-module-core" "kurento-module-elements" "kurento-module-filters"};

  // Build disabled on Ubuntu >= 20.04 (due to breaking changes in OpenCV 4.0).
  "kurento-module-crowddetector (unavailable)" -> {"kurento-module-core" "kurento-module-elements" "kurento-module-filters"};
  "kurento-module-datachannelexample (unavailable)" -> {"kurento-module-core" "kurento-module-elements" "kurento-module-filters"};
  "kurento-module-markerdetector (unavailable)" -> {"kurento-module-core" "kurento-module-elements" "kurento-module-filters"};
  "kurento-module-platedetector (unavailable)" -> {"kurento-module-core" "kurento-module-elements" "kurento-module-filters"};
  "kurento-module-pointerdetector (unavailable)" -> {"kurento-module-core" "kurento-module-elements" "kurento-module-filters"};
}
