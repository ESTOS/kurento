digraph dependencies_all {
  bgcolor = "transparent";
  fontname = "Bitstream Vera Sans";
  fontsize = 8;
  size = "12,8";

  rankdir = "RL";

  // Forks and external libraries.
  {
    rank = "same";
    "gst-plugins-good";
    "jsoncpp";
    "libnice";
    "libsrtp";
    "openh264";
  }

  // Main components.
  {
    rank = "same";
    "kurento-module-creator";
    "kms-cmake-utils";
    "kms-jsonrpc";
  }
  "kms-jsonrpc" -> {"jsoncpp" "kms-cmake-utils"};
  "kms-core" -> {"gst-plugins-good" "kurento-module-creator" "kms-cmake-utils" "kms-jsonrpc"};
  "kms-elements" -> {"libnice" "openh264" "kms-core"};
  "kms-filters" -> "kms-elements";
  "kurento-media-server" -> {"libsrtp" "kms-core" "kms-elements" "kms-filters"};

  // Extra modules.
  // Build disabled on Ubuntu >= 20.04 (due to breaking changes in OpenCV 4.0).
  //"kms-chroma" -> {"kms-core" "kms-elements" "kms-filters"};
  //"kms-crowddetector" -> {"kms-core" "kms-elements" "kms-filters"};
  //"kms-datachannelexample" -> {"kms-core" "kms-elements" "kms-filters"};
  //"kms-platedetector" -> {"kms-core" "kms-elements" "kms-filters"};
  //"kms-pointerdetector" -> {"kms-core" "kms-elements" "kms-filters"};
}
